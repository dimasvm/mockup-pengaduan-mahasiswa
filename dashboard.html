<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Aspirasi Kampus - Beranda (Responsive)</title>

        <!-- Fonts & Tailwind -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
            rel="stylesheet"
        />
        <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
        <script>
            tailwind.config = {
                darkMode: "class",
                theme: {
                    extend: {
                        colors: {
                            primary: "#137fec",
                            "background-light": "#f6f7f8",
                            "background-dark": "#101922",
                        },
                        fontFamily: { display: ["Inter", "sans-serif"] },
                        borderRadius: {
                            DEFAULT: "0.25rem",
                            lg: "0.5rem",
                            xl: "0.75rem",
                            full: "9999px",
                        },
                        boxShadow: {
                            overlay: "0 10px 25px rgba(0,0,0,0.25)",
                        },
                    },
                },
            };
        </script>
        <style>
            .icon {
                width: 24px;
                height: 24px;
            }
            /* Prevent layout shift when hiding body scroll on mobile drawer open */
            .no-scroll {
                overflow: hidden;
                touch-action: none;
            }
        </style>
    </head>
    <body
        class="bg-background-light dark:bg-background-dark font-display text-gray-800 dark:text-gray-200"
    >
        <!-- Top Bar (mobile & tablet) -->
        <header
            class="lg:hidden sticky top-0 z-40 backdrop-blur supports-[backdrop-filter]:bg-white/70 bg-white/95 dark:bg-background-dark/90 border-b border-gray-200 dark:border-gray-800"
        >
            <div class="max-w-7xl mx-auto px-4 py-3 flex items-center gap-3">
                <button
                    id="btn-open-sidebar"
                    aria-label="Buka menu"
                    class="inline-flex items-center justify-center p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-primary"
                >
                    <svg
                        class="icon"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    >
                        <line x1="3" y1="12" x2="21" y2="12"></line>
                        <line x1="3" y1="6" x2="21" y2="6"></line>
                        <line x1="3" y1="18" x2="21" y2="18"></line>
                    </svg>
                </button>
                <h1
                    class="text-base font-semibold text-gray-900 dark:text-white"
                >
                    Aspirasi Kampus
                </h1>
                <div class="ml-auto flex items-center gap-2">
                    <button
                        id="btn-toggle-theme"
                        class="p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-primary"
                        aria-label="Toggle theme"
                    >
                        <svg
                            id="icon-sun"
                            class="icon hidden"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        >
                            <circle cx="12" cy="12" r="4" />
                            <path
                                d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M4.93 19.07l1.41-1.41M17.66 6.34l1.41-1.41"
                            />
                        </svg>
                        <svg
                            id="icon-moon"
                            class="icon"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        >
                            <path
                                d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"
                            />
                        </svg>
                    </button>
                </div>
            </div>
        </header>

        <div class="flex min-h-[100svh]">
            <!-- Sidebar (mobile: drawer, desktop: static) -->
            <div
                id="sidebar-overlay"
                class="lg:hidden fixed inset-0 z-40 hidden bg-black/40"
            ></div>
            <aside
                id="sidebar"
                class="fixed inset-y-0 left-0 z-50 w-72 translate-x-[-110%] lg:translate-x-0 lg:static bg-background-light dark:bg-background-dark border-r border-gray-200 dark:border-gray-700 flex flex-col transition-transform duration-300 ease-out will-change-transform"
            >
                <div class="p-6 flex items-center justify-between">
                    <h1 class="text-xl font-bold text-gray-900 dark:text-white">
                        Aspirasi Kampus
                    </h1>
                    <button
                        id="btn-close-sidebar"
                        class="lg:hidden p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800"
                        aria-label="Tutup menu"
                    >
                        <svg
                            class="icon"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        >
                            <line x1="18" y1="6" x2="6" y2="18" />
                            <line x1="6" y1="6" x2="18" y2="18" />
                        </svg>
                    </button>
                </div>
                <nav class="flex-1 px-4 py-2 space-y-2 overflow-y-auto">
                    <a
                        href="#"
                        class="flex items-center gap-3 px-3 py-2 rounded-lg bg-primary/10 dark:bg-primary/20 text-primary"
                    >
                        <svg
                            class="icon"
                            fill="currentColor"
                            viewBox="0 0 256 256"
                        >
                            <path
                                d="M224,115.55V208a16,16,0,0,1-16,16H168a16,16,0,0,1-16-16V168a8,8,0,0,0-8-8H112a8,8,0,0,0-8,8v40a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V115.55a16,16,0,0,1,5.17-11.78l80-75.48.11-.11a16,16,0,0,1,21.53,0,1.14,1.14,0,0,0,.11.11l80,75.48A16,16,0,0,1,224,115.55Z"
                            ></path>
                        </svg>
                        <span class="text-sm font-medium">Beranda</span>
                    </a>
                    <a
                        href="admin/dashboard.html"
                        class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-primary/10 dark:hover:bg-primary/20 hover:text-primary transition-colors"
                    >
                        <svg
                            class="icon"
                            fill="currentColor"
                            viewBox="0 0 256 256"
                        >
                            <path
                                d="M227.19,104.48A16,16,0,0,0,240,88.81V64a16,16,0,0,0-16-16H32A16,16,0,0,0,16,64V88.81a16,16,0,0,0,12.81,15.67,24,24,0,0,1,0,47A16,16,0,0,0,16,167.19V192a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V167.19a16,16,0,0,0-12.81-15.67,24,24,0,0,1,0-47ZM32,167.2a40,40,0,0,0,0-78.39V64H88V192H32Zm192,0V192H104V64H224V88.8a40,40,0,0,0,0,78.39Z"
                            ></path>
                        </svg>
                        <span class="text-sm font-medium"
                            >Beranda Admin (Test)</span
                        >
                    </a>
                    <a
                        href="pengaduan-saya.html"
                        class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-primary/10 dark:hover:bg-primary/20 hover:text-primary transition-colors"
                    >
                        <svg
                            class="icon"
                            fill="currentColor"
                            viewBox="0 0 256 256"
                        >
                            <path
                                d="M227.19,104.48A16,16,0,0,0,240,88.81V64a16,16,0,0,0-16-16H32A16,16,0,0,0,16,64V88.81a16,16,0,0,0,12.81,15.67,24,24,0,0,1,0,47A16,16,0,0,0,16,167.19V192a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V167.19a16,16,0,0,0-12.81-15.67,24,24,0,0,1,0-47ZM32,167.2a40,40,0,0,0,0-78.39V64H88V192H32Zm192,0V192H104V64H224V88.8a40,40,0,0,0,0,78.39Z"
                            ></path>
                        </svg>
                        <span class="text-sm font-medium">Pengaduan Saya</span>
                    </a>
                    <a
                        href="form-pengaduan.html"
                        class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-primary/10 dark:hover:bg-primary/20 hover:text-primary transition-colors"
                    >
                        <svg
                            class="icon"
                            fill="currentColor"
                            viewBox="0 0 256 256"
                        >
                            <path
                                d="M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"
                            ></path>
                        </svg>
                        <span class="text-sm font-medium">Pengaduan Baru</span>
                    </a>
                    <a
                        href="#"
                        class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-primary/10 dark:hover:bg-primary/20 hover:text-primary transition-colors"
                    >
                        <svg
                            class="icon"
                            fill="currentColor"
                            viewBox="0 0 256 256"
                        >
                            <path
                                d="M136,80v43.47l36.12,21.67a8,8,0,0,1-8.24,13.72l-40-24A8,8,0,0,1,120,128V80a8,8,0,0,1,16,0Zm-8-48A95.44,95.44,0,0,0,60.08,60.15C52.81,67.51,46.35,74.59,40,82V64a8,8,0,0,0-16,0v40a8,8,0,0,0,8,8H72a8,8,0,0,0,0-16H49c7.15-8.42,14.27-16.35,22.39-24.57a80,80,0,1,1,1.66,114.75,8,8,0,1,0-11,11.64A96,96,0,1,0,128,32Z"
                            ></path>
                        </svg>
                        <span class="text-sm font-medium"
                            >Riwayat Pengaduan</span
                        >
                    </a>
                    <a
                        href="profile.html"
                        class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-primary/10 dark:hover:bg-primary/20 hover:text-primary transition-colors"
                    >
                        <svg
                            class="icon"
                            fill="currentColor"
                            viewBox="0 0 256 256"
                        >
                            <path
                                d="M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"
                            ></path>
                        </svg>
                        <span class="text-sm font-medium">Profil</span>
                    </a>
                </nav>
                <div class="px-4 py-2 mt-auto">
                    <a
                        href="#"
                        class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-primary/10 dark:hover:bg-primary/20 hover:text-primary transition-colors"
                    >
                        <svg
                            class="icon"
                            fill="currentColor"
                            viewBox="0 0 256 256"
                        >
                            <path
                                d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"
                            ></path>
                        </svg>
                        <span class="text-sm font-medium">Keluar</span>
                    </a>
                </div>
            </aside>

            <!-- Main content -->
            <main class="flex-1 min-w-0">
                <div class="max-w-7xl mx-auto px-4 lg:px-8 py-6 lg:py-8">
                    <div
                        class="hidden lg:flex items-center justify-between mb-8"
                    >
                        <h1
                            class="text-3xl font-bold text-gray-900 dark:text-white"
                        >
                            Beranda
                        </h1>
                        <div class="flex items-center gap-3">
                            <button
                                id="btn-toggle-theme-desktop"
                                class="p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-primary"
                                aria-label="Toggle theme"
                            >
                                <svg
                                    class="icon"
                                    viewBox="0 0 24 24"
                                    fill="none"
                                    stroke="currentColor"
                                    stroke-width="2"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                >
                                    <circle cx="12" cy="12" r="4" />
                                    <path
                                        d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M4.93 19.07l1.41-1.41M17.66 6.34l1.41-1.41"
                                    />
                                </svg>
                            </button>
                        </div>
                    </div>

                    <!-- Stats -->
                    <section
                        class="grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6 mb-8"
                    >
                        <div
                            class="bg-white dark:bg-gray-800 rounded-lg shadow p-5 sm:p-6"
                        >
                            <p
                                class="text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400"
                            >
                                Pengaduan Tertunda
                            </p>
                            <p
                                class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mt-1"
                            >
                                2
                            </p>
                        </div>
                        <div
                            class="bg-white dark:bg-gray-800 rounded-lg shadow p-5 sm:p-6"
                        >
                            <p
                                class="text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400"
                            >
                                Pengaduan Diproses
                            </p>
                            <p
                                class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mt-1"
                            >
                                3
                            </p>
                        </div>
                        <div
                            class="bg-white dark:bg-gray-800 rounded-lg shadow p-5 sm:p-6"
                        >
                            <p
                                class="text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400"
                            >
                                Pengaduan Selesai
                            </p>
                            <p
                                class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mt-1"
                            >
                                5
                            </p>
                        </div>
                    </section>

                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8">
                        <!-- Notifikasi -->
                        <section class="lg:col-span-2">
                            <h2
                                class="text-lg sm:text-xl font-bold text-gray-900 dark:text-white mb-3 sm:mb-4"
                            >
                                Notifikasi
                            </h2>
                            <div class="space-y-3 sm:space-y-4">
                                <div
                                    class="flex items-start gap-3 sm:gap-4 p-4 bg-white dark:bg-gray-800 rounded-lg shadow"
                                >
                                    <div
                                        class="flex-shrink-0 size-9 sm:size-10 rounded-full bg-primary/10 dark:bg-primary/20 flex items-center justify-center"
                                    >
                                        <svg
                                            class="icon text-primary"
                                            fill="currentColor"
                                            viewBox="0 0 256 256"
                                        >
                                            <path
                                                d="M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"
                                            ></path>
                                        </svg>
                                    </div>
                                    <div>
                                        <p
                                            class="font-semibold text-gray-900 dark:text-white"
                                        >
                                            Pengaduan Diterima
                                        </p>
                                        <p
                                            class="text-sm text-gray-600 dark:text-gray-400"
                                        >
                                            Pengaduan Anda dengan ID #12345
                                            telah diterima dan sedang diproses.
                                        </p>
                                    </div>
                                </div>
                                <div
                                    class="flex items-start gap-3 sm:gap-4 p-4 bg-white dark:bg-gray-800 rounded-lg shadow"
                                >
                                    <div
                                        class="flex-shrink-0 size-9 sm:size-10 rounded-full bg-primary/10 dark:bg-primary/20 flex items-center justify-center"
                                    >
                                        <svg
                                            class="icon text-primary"
                                            fill="currentColor"
                                            viewBox="0 0 256 256"
                                        >
                                            <path
                                                d="M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"
                                            ></path>
                                        </svg>
                                    </div>
                                    <div>
                                        <p
                                            class="font-semibold text-gray-900 dark:text-white"
                                        >
                                            Pengaduan Selesai
                                        </p>
                                        <p
                                            class="text-sm text-gray-600 dark:text-gray-400"
                                        >
                                            Pengaduan Anda dengan ID #67890
                                            telah selesai.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- Tautan Cepat -->
                        <aside>
                            <h2
                                class="text-lg sm:text-xl font-bold text-gray-900 dark:text-white mb-3 sm:mb-4"
                            >
                                Tautan Cepat
                            </h2>
                            <div class="space-y-3 sm:space-y-4">
                                <a
                                    href="form-pengaduan.html"
                                    class="w-full text-left py-3 px-4 bg-primary text-white font-semibold rounded-lg shadow-md hover:bg-primary/90 transition-colors"
                                >
                                    Pengaduan Baru
                                </a>
                                <button
                                    class="w-full text-left py-3 px-4 bg-white dark:bg-gray-800 text-gray-800 dark:text-white font-semibold rounded-lg shadow hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"
                                >
                                    Lihat Pengaduan
                                </button>
                            </div>
                        </aside>
                    </div>
                </div>
            </main>
        </div>

        <script>
            // --- Theme: system preference + toggle ---
            const root = document.documentElement;
            const storageKey = "aspirasi-theme";
            const setTheme = (mode) => {
                if (mode === "dark") root.classList.add("dark");
                else root.classList.remove("dark");
                localStorage.setItem(storageKey, mode);
                toggleThemeIcons();
            };
            const initTheme = () => {
                const saved = localStorage.getItem(storageKey);
                if (saved) setTheme(saved);
                else if (
                    window.matchMedia("(prefers-color-scheme: dark)").matches
                )
                    setTheme("dark");
                else setTheme("light");
            };
            const toggleTheme = () => {
                const isDark = root.classList.contains("dark");
                setTheme(isDark ? "light" : "dark");
            };
            const toggleThemeIcons = () => {
                const sun = document.getElementById("icon-sun");
                const moon = document.getElementById("icon-moon");
                const isDark = root.classList.contains("dark");
                if (sun && moon) {
                    sun.classList.toggle("hidden", !isDark);
                    moon.classList.toggle("hidden", isDark);
                }
            };

            // --- Sidebar drawer (mobile) ---
            const body = document.body;
            const sidebar = document.getElementById("sidebar");
            const overlay = document.getElementById("sidebar-overlay");
            const openBtn = document.getElementById("btn-open-sidebar");
            const closeBtn = document.getElementById("btn-close-sidebar");

            const openSidebar = () => {
                sidebar.style.transform = "translateX(0)";
                overlay.classList.remove("hidden");
                overlay.classList.add("backdrop-blur-sm");
                body.classList.add("no-scroll");
            };
            const closeSidebar = () => {
                sidebar.style.transform = "translateX(-110%)";
                overlay.classList.add("hidden");
                overlay.classList.remove("backdrop-blur-sm");
                body.classList.remove("no-scroll");
            };

            openBtn?.addEventListener("click", openSidebar);
            closeBtn?.addEventListener("click", closeSidebar);
            overlay?.addEventListener("click", closeSidebar);
            window.addEventListener("keydown", (e) => {
                if (e.key === "Escape") closeSidebar();
            });

            // Theme button events
            document
                .getElementById("btn-toggle-theme")
                ?.addEventListener("click", toggleTheme);
            document
                .getElementById("btn-toggle-theme-desktop")
                ?.addEventListener("click", toggleTheme);

            // Init
            initTheme();
        </script>
    </body>
</html>
